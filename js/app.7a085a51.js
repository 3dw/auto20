(function(t){function e(e){for(var a,n,r=e[0],l=e[1],c=e[2],d=0,m=[];d<r.length;d++)n=r[d],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&m.push(i[n][0]),i[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(m.length)m.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],a=!0,r=1;r<s.length;r++){var l=s[r];0!==i[l]&&(a=!1)}a&&(o.splice(e--,1),t=n(n.s=s[0]))}return t}var a={},i={app:0},o=[];function n(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=a,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(s,a,function(e){return t[e]}.bind(null,a));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;o.push([1,"chunk-vendors"]),s()})({0:function(t,e){},"010a":function(t,e,s){},"01cc":function(t,e,s){},"05f2":function(t,e,s){},1:function(t,e,s){t.exports=s("56d7")},1473:function(t,e,s){},2:function(t,e){},3:function(t,e){},"31dc":function(t,e,s){"use strict";var a=s("982c"),i=s.n(a);i.a},3584:function(t,e,s){},3737:function(t,e,s){"use strict";var a=s("6791"),i=s.n(a);i.a},4:function(t,e){},"4e41":function(t,e,s){"use strict";var a=s("bcb5"),i=s.n(a);i.a},"4e54":function(t,e,s){"use strict";var a=s("f84d"),i=s.n(a);i.a},"54e0":function(t,e,s){"use strict";var a=s("9607"),i=s.n(a);i.a},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("a026"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("nav",{staticClass:"fixed top ui menu inverted"},[s("a",{staticClass:"item",on:{click:function(e){t.visible=!t.visible}}},[s("i",{staticClass:"bars icon"})]),s("router-link",{staticClass:"item fat-only",attrs:{to:"/"}},[s("sui-icon",{attrs:{name:"home"}}),t._v("首頁")],1),s("router-link",{staticClass:"item fat-only",attrs:{to:"/intro"}},[s("sui-icon",{attrs:{name:"info"}}),t._v("說明")],1),s("router-link",{staticClass:"item fat-only",attrs:{to:"/maps"}},[s("sui-icon",{attrs:{name:"map"}}),t._v("地圖")],1),s("router-link",{staticClass:"item",attrs:{to:"/cards"}},[s("sui-icon",{attrs:{name:"users"}}),t._v("朋友")],1),s("router-link",{staticClass:"item",attrs:{to:"/groups"}},[s("i",{staticClass:"globe icon"}),t._v("社團")]),s("div",{staticClass:"right menu"},[t._m(0),t.uid||t.isInApp?t._e():s("a",{staticClass:"item",on:{click:function(e){return t.loginGoogle()}}},[s("i",{staticClass:"google icon"}),t._v("Google登入")]),t.uid?s("div",{staticClass:"item"},[s("img",{staticClass:"ui avatar",attrs:{src:t.photoURL,referrerpolicy:"no-referrer"}}),s("sui-dropdown",{attrs:{icon:"angle down"}},[s("sui-dropdown-menu",{attrs:{button:"",inverted:"true"}},[s("sui-dropdown-item",[s("router-link",{staticClass:"ui",attrs:{to:"/myFlag"}},[t._v("我的旗幟")])],1),s("sui-dropdown-item",[s("router-link",{staticClass:"ui",attrs:{to:"/book"}},[t._v("我的名簿")])],1),s("sui-dropdown-divider"),t._l(t.myGroupIdx(),(function(e){return s("sui-dropdown-item",{key:e},[s("router-link",{staticClass:"ui",attrs:{to:"/group/"+e}},[t._v(t._s(t.groups[e].n))])],1)})),s("sui-dropdown-divider"),s("sui-dropdown-item",[s("a",{staticClass:"ui",on:{click:function(e){return t.logout()}}},[t._v("登出"),s("img",{staticClass:"ui small",attrs:{src:t.photoURL,referrerpolicy:"no-referrer"}})])])],2)],1)],1):t._e()])],1),s("sui-sidebar",{tag:"sui-menu",attrs:{visible:t.visible,animation:"overlay",width:"thin",icon:"labeled",inverted:"",vertical:"",fixed:""}},[s("sui-menu-item",[s("router-link",{attrs:{to:"/"}},[s("sui-icon",{attrs:{name:"home"}}),t._v("首頁")],1)],1),s("sui-menu-item",[s("router-link",{attrs:{to:"/intro"}},[s("sui-icon",{attrs:{name:"info"}}),t._v("說明")],1)],1),s("sui-menu-item",[s("router-link",{attrs:{to:"/maps"}},[s("sui-icon",{attrs:{name:"map"}}),t._v("地圖")],1)],1),s("sui-menu-item",[s("router-link",{attrs:{to:"/cards"}},[s("sui-icon",{attrs:{name:"users"}}),t._v("朋友")],1)],1),t.uid?s("sui-menu-item",[s("router-link",{attrs:{to:"/myFlag"}},[s("sui-icon",{attrs:{name:"edit"}}),t._v("我的旗幟")],1)],1):t._e(),t.uid?s("sui-menu-item",[s("router-link",{attrs:{to:"/myPlace"}},[s("sui-icon",{attrs:{name:"flag checkered"}}),t._v("新增地點旗")],1)],1):t._e(),s("sui-menu-item",[s("router-link",{attrs:{to:"/groups"}},[s("sui-icon",{attrs:{name:"globe"}}),t._v("社團")],1)],1),s("sui-menu-item",[s("router-link",{attrs:{to:"/book"}},[s("sui-icon",{attrs:{name:"book"}}),t._v("我的名簿")],1)],1),s("sui-menu-item",[s("router-link",{attrs:{to:"/outer"}},[s("sui-icon",{attrs:{name:"paperclip"}}),t._v("外部連結")],1)],1)],1),s("sui-sidebar-pushable",[s("sui-sidebar-pusher",[s("main",[t.doSearch(t.$route.path)?s("div",{staticClass:"ui form container"},[s("input",{directives:[{name:"autofocus",rawName:"v-autofocus"},{name:"model",rawName:"v-model",value:t.mySearch,expression:"mySearch"}],attrs:{placeholder:"以關鍵字或年齡搜詢",autofocus:""},domProps:{value:t.mySearch},on:{input:function(e){e.target.composing||(t.mySearch=e.target.value)}}})]):t._e(),s("router-view",{attrs:{uid:t.uid,user:t.user,groups:t.groups,email:t.email,users:t.users,places:t.places,mySearch:t.mySearch,provider:t.provider,photoURL:t.photoURL,cities:t.cities,zoom:t.zoom,center:t.center,book:t.book,isInApp:t.isInApp},on:{loginGoogle:t.loginGoogle,locate:t.locate,locateCity:t.locateCity,addBook:t.addBook,removeBook:t.removeBook}})],1)])],1),s("chatbox",{attrs:{id:"ch",uid:t.uid,user:t.user,photoURL:t.photoURL},on:{loginGoogle:t.loginGoogle}})],1)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"item fat-only",attrs:{href:"https://github.com/3dw/auto20/issues",target:"_blank",rel:"noopener noreferrer"}},[s("i",{staticClass:"github icon"}),t._v("錯誤回報")])}],n=s("0564"),r=s.n(n),l=s("66ce"),c=s("260b"),u=s("ea7b");const d=Object(c["a"])({apiKey:"AIzaSyA64Lzpmdn-HovWkOvTtPFecurm9Szaxf8",authDomain:"shackhand-autolearn.firebaseapp.com",databaseURL:"https://shackhand-autolearn.firebaseio.com",projectId:"shackhand-autolearn",storageBucket:"shackhand-autolearn.appspot.com",messagingSenderId:"270389952986",appId:"1:270389952986:web:010827f42571edac5c80e3"}),m=Object(l["a"])(d),h=Object(u["b"])(d),p=Object(l["c"])(m,"places"),v=Object(l["c"])(m,"users"),g=Object(l["c"])(m,"chats"),f=Object(l["c"])(m,"groups");s("5319"),s("ddb0");var b={methods:{part:function(t){return String(t).substring(0,50)},toAge:function(t){var e=(new Date).getFullYear();return e-parseInt(t)},highlight:function(t,e){var s,a,i,o;if(!t)return"";if(t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/&lt;\s*br\/?\s*&gt;/g,"<br/>"),!e)return t;if("$"===e.substr(0,1))return t;for(s=e.split(/\s+/g),a=0,i=s.length;a<i;++a)o=s[a],t=t.replace(new RegExp(o,"gi"),'<span class="highlightedText">$&</span>');return t},getIcon:function(t){return t&&t.photoURL?t.photoURL:"https://www.moedict.tw/"+t.name+".png"},countDateDiff:function(t){var e;return t?(e=new Date(t).toLocaleDateString(),e):""},makeHref:function(t){var e;return t?(e=""+t,-1===t.indexOf("http://")&&(e="http://"+t),e=e.replace("https://",""),e):""},badAge:function(t){var e;return!!t&&(e=(new Date).getFullYear()-parseInt(t),isNaN(e))},isValid:function(t){return t&&t.name&&t.share&&t.learner_habit&&t.note&&t.address&&!("undefined,undefined"===t.latlngColumn)&&!("36.778261,-119.4179324"===t.latlngColumn)&&t.connect_me},asValid:function(t){return t&&t.name&&t.note&&t.note.length>=20&&t.address&&!("undefined,undefined"===t.latlngColumn)&&!("36.778261,-119.4179324"===t.latlngColumn)},searchBy:function(t,e){const s=Object.keys(t),a=s.map((function(e){return t[e]}));if(!a)return[];e||(e="");for(var i=function(t){var e=(new Date).getFullYear();return e-parseInt(t)},o=e.split(/[\s&]+/g),n=a,r=0;r<o.length;r++){var l,c,u=o[r];[l,c]=u.split(/[~-]/),u.match(/(\d+)[~-](\d+)/)?n=n.filter((function(t){return(i(t.learner_birth)<=c&&i(t.learner_birth))>=l||i(t.child_birth)<=c&&i(t.child_birth)>=l||i(t.child_birth2)<=c&&i(t.child_birth2)>=l})):u.match(/(\d+)\+/)?(l=u.split("+")[0],n=n.filter((function(t){return i(t.learner_birth)>=l||i(t.child_birth)>=l||i(t.child_birth2)>=l}))):u.match(/(\d+)-/)?(c=u.split("-")[0],n=n.filter((function(t){return i(t.learner_birth)<=c||i(t.child_birth)<=c||i(t.child_birth2)<=c}))):n=n.filter((function(t){return!!t.name&&(t.name+t.address+t.note+t.freetime+t.learner_habit+t.share+t.ask+t.id).indexOf(u)>-1}))}return n.sort((function(t,e){return t.lastUpdate||(t.lastUpdate=0),e.lastUpdate||(e.lastUpdate=0),e.lastUpdate-t.lastUpdate})),n}}},_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"chats",class:{full:t.isFull,mini:t.isMini}},[s("div",{staticClass:"ui inverted big menu",attrs:{id:"menu"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isFull,expression:"isFull"}],staticClass:"item ui form"},[s("div",{staticClass:"ui input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.key,expression:"key"}],attrs:{placeholder:"搜索"},domProps:{value:t.key},on:{input:function(e){e.target.composing||(t.key=e.target.value)}}})]),t.user?t._e():s("div",{staticClass:"ui buttons"},[s("button",{staticClass:"ui orange button",on:{click:function(e){return t.loginGoogle()}}},[s("i",{staticClass:"google icon"}),t._v("登入")])])]),s("div",{staticClass:"right menu"},[t.isFull?t._e():s("a",{staticClass:"item",on:{click:function(e){t.isFull=!0,t.isMini=!1,t.reCount()}}},[s("i",{staticClass:"comments icon"}),t._v("聊聊"),s("div",{directives:[{name:"show",rawName:"v-show",value:t.fil(t.chats).length>t.read,expression:"fil(chats).length > read"}],staticClass:"red note"},[t._v(t._s(t.fil(t.chats).length-t.read))])]),t.isMini?t._e():s("a",{staticClass:"item",on:{click:function(e){t.isFull=!1,t.isMini=!0}}},[s("i",{staticClass:"compress icon"}),t._v("縮小")])])]),s("div",{attrs:{id:"box"}},[s("div",{staticClass:"ui list"},[t._l(t.fil(t.chats).slice(t.fil(t.chats).length-5,t.fil(t.chats).length),(function(e,a){return s("div",{key:e.t,staticClass:"item"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.edit!==e,expression:"edit !== c"}],staticClass:"ui"},[s("router-link",{attrs:{to:"/flag/"+e.uid}},[s("img",{staticClass:"ui avatar",attrs:{src:e.photoURL||"http://graph.facebook.com/"+e.uid+"/picture",alt:"^_^"}})]),s("a",{class:e.l,on:{click:function(s){t.key=e.l}}},[t._v("["+t._s(e.l)+"]")]),s("a",{directives:[{name:"show",rawName:"v-show",value:e.uid==t.uid,expression:"c.uid == uid"}],on:{click:function(s){t.edit=e}}},[s("i",{staticClass:"edit icon",attrs:{title:"edit"}})]),s("vue-markdown",[t._v(t._s(e.n)+" : "+t._s(e.t))]),s("span",{directives:[{name:"show",rawName:"v-show",value:t.isFull,expression:"isFull"}],staticClass:"gray"},[t._v(" -"),s("vue-markdown",[t._v(" "+t._s(t.countDateDiff(e.time)))])],1)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.edit==e,expression:"edit == c"}],staticClass:"ui form"},[s("div",{staticClass:"ui input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.t,expression:"c.t"}],staticClass:"input",attrs:{placeholder:"更新"},domProps:{value:e.t},on:{input:function(s){s.target.composing||t.$set(e,"t",s.target.value)}}}),s("a",{staticClass:"ui green small button",on:{click:function(s){t.edit="",t.updateChat(e)}}},[t._v("更新")])])])])})),t.p.t?s("div",{staticClass:"item preview"},[s("router-link",{attrs:{to:"/flag/"+t.p.uid}},[s("img",{staticClass:"ui avatar",attrs:{src:t.photoURL||"/static/img/handshake0.png"}})]),s("a",{class:t.p.l,on:{click:function(e){t.key=t.p.l}}},[t._v("["+t._s(t.p.l)+"] (預覽)")]),s("vue-markdown",[t._v(t._s(t.p.n)+" : "+t._s(t.p.t))]),s("span",{directives:[{name:"show",rawName:"v-show",value:t.isFull,expression:"isFull"}],staticClass:"gray"},[t._v(" -"),s("vue-markdown",[t._v(" "+t._s(t.countDateDiff(t.p.time)))])],1)],1):t._e(),t.uid?s("div",{staticClass:"item"},[s("div",{staticClass:"ui form"},[s("div",{staticClass:"field"},[s("img",{staticClass:"ui avatar",attrs:{src:t.photoURL||"http://graph.facebook.com/"+t.uid+"/picture"}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],staticClass:"input",attrs:{placeholder:"在想什麼嗎?",autofocus:""},domProps:{value:t.msg},on:{input:function(e){e.target.composing||(t.msg=e.target.value)}}})]),s("div",{staticClass:"inline fields"},[t._l(t.labels,(function(e){return s("div",{staticClass:"field"},[s("div",{staticClass:"ui radio checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.label,expression:"label"}],attrs:{type:"radio",name:"l",checked:"checked == l"},domProps:{value:e,checked:t._q(t.label,e)},on:{change:function(s){t.label=e}}}),s("label",[s("a",{class:e,on:{click:function(s){t.label=e}}},[t._v(t._s(e))])])])])})),s("div",{staticClass:"ui button group"},[s("a",{staticClass:"ui blue small button",on:{click:t.preview}},[t._v("預覽")]),s("a",{staticClass:"ui green small button",on:{click:t.addChat}},[t._v("留言")])])],2)])]):s("div",{staticClass:"item"},[t.user?t._e():s("div",{staticClass:"ui big buttons"},[s("button",{staticClass:"ui orange button",on:{click:function(e){return t.loginGoogle()}}},[s("i",{staticClass:"google icon"}),t._v("登入以留言 ")])])])],2)])])},w=[],C=s("9ce6"),k=s.n(C),y={name:"chats",mixins:[b],components:{VueMarkdown:k.a},props:["uid","user","photoURL"],data(){return{p:"",msg:"",key:"",edit:"",chats:[],read:0,isFull:!1,isMini:!0,label:"閒聊",labels:["諮詢","故障","找伴","閒聊"]}},methods:{preview:function(){var t={uid:this.uid,n:this.user.providerData[0].displayName,t:this.msg,l:this.label,edit:!1,photoURL:this.photoURL||"",time:(new Date).getTime()};this.p=t},updateChat:function(t){var e={uid:t.uid,n:t.n,t:t.t,l:t.l,photoURL:t.photoURL||"",time:(new Date).getTime()};this.chats[t[".key"]]=e,Object(l["d"])(Object(l["c"])(m,"chats"),this.chats).then(console.log("chats更新成功"))},addChat:function(){var t={uid:this.uid,n:this.user.providerData[0].displayName,t:this.msg,l:this.label,photoURL:this.photoURL||"",time:(new Date).getTime()};if(this.msg){const e=(Math.random()+"").substr(0,8).replace(".","");this.chats[e]=t,this.msg="",this.p=""}Object(l["d"])(Object(l["c"])(m,"chats"),this.chats).then(console.log("chats更新成功"))},loginGoogle:function(){this.$emit("loginGoogle")},fil:function(t){var e=this.key;const s=Object.keys(t);for(var a=[],i=0;i<s.length;i++)a.push(t[s[i]]);return a=a.filter((function(t){return(t.t+t.l).indexOf(e)>-1||!e})).map((function(t){return t.edit=!1,t})),a.sort((function(t,e){return t.time-e.time})),a},reCount:function(){this.read=this.fil(this.chats).length,this.$localStorage.set("read",this.read)}},mounted(){const t=this;Object(l["b"])(g,e=>{const s=e.val();t.chats=s}),console.log(this.read),this.read=this.$localStorage.get("read")||0,"undefined"===this.read&&(this.read=0)}},x=y,N=(s("4e41"),s("2877")),$=Object(N["a"])(x,_,w,!1,null,"1ab934de",null),O=$.exports;const L=new u["a"];L.addScope("https://www.googleapis.com/auth/userinfo.email");const j=new r.a(navigator.userAgent||navigator.vendor||window.opera);var I={name:"app",mixins:[b],components:{Chatbox:O},metaInfo:{title:"",titleTemplate:"%s | 自主學習2.0"},data(){return{isInApp:j.isInApp,mySearch:"",visible:!1,zoom:7,center:[22.61322,121.219482],user:"",token:"",uid:"",provider:"",photoURL:"",email:"",book:[],users:[],places:[],groups:[],cities:[{t:"臺北市",c:[25.046337,121.517444]},{t:"新北市",c:[25.011709,121.465881],z:10},{t:"桃園市",c:[24.993923,121.30168]},{t:"臺中市",c:[24.163162,120.647828]},{t:"臺南市",c:[22.991235,120.184982]},{t:"高雄市",c:[22.627277,120.301437]},{t:"宜蘭縣",c:[24.69295,121.7195],z:10},{t:"南投縣",c:[23.83876,120.9876],z:10},{t:"嘉義市",c:[23.47545,120.4473],z:10},{t:"花蓮縣",c:[23.7569,121.3542],z:10},{t:"臺東縣",c:[22.98461,120.9876],z:10},{t:"澎湖縣",c:[23.56548,119.6151],z:9}]}},methods:{myGroupIdx(){const t=this;return this.groups.filter((function(e){return(e.members||[]).indexOf(t.uid||"")>-1})).map((function(t){return t.idx}))},doSearch:function(t){return!t.match(/(drawing|^\/$|myPlace|outer|myFlag|group\/|place|intro|faq|flag\/\d+|ans\/\d+)/)},locate:function(t){this.zoom=13,this.center=t.latlngColumn.split(","),this.$router.push({path:"/maps"})},locateCity:function(t){this.zoom=t.z||13,this.center=t.c},getLocal:function(t){console.log("get:"+t),this[t]=JSON.parse(this.$localStorage.get(t))},setLocal:function(t){console.log("set:"+t),this.$localStorage.set(t,JSON.stringify(this[t]))},addBook:function(t){-1===this.book.indexOf(t)&&(this.book.push(t),this.setLocal("book"))},removeBook:function(t){this.book.splice(t,1),this.setLocal("book")},logout(){const t=this;h.signOut().then((function(){t.user=null,t.uid=null,t.photoURL=null}))},isFacebookApp:function(){var t=navigator.userAgent||navigator.vendor||window.opera||"";return t.indexOf("FBAN")>-1||t.indexOf("FBAV")>-1},loginGoogle:function(){const t=this;this.isInApp?window.alert("本系統不支援facebook, link等app內部瀏覽，請用一般瀏覽器開啟，方可登入，謝謝"):Object(u["c"])(h,L).then(e=>{const s=u["a"].credentialFromResult(e),a=s.accessToken,i=e.user;t.user=i,t.email=i.providerData[0].email,t.token=a,t.uid=i.uid,t.photoURL=decodeURI(i.photoURL),t.uid&&t.users[t.uid]&&(t.user=t.users[t.uid])})}},mounted(){const t=this;console.log(t.isInApp),Object(l["b"])(v,e=>{const s=e.val();t.users=s}),Object(l["b"])(p,e=>{const s=e.val();t.places=s}),Object(l["b"])(f,e=>{const s=e.val();t.groups=s}),this.$localStorage.get("book")&&this.getLocal("book")},watch:{$route(t,e){console.log(e.path),console.log(t.path),this.$gtag.event("action",{event_category:"navigate",event_action:"from:"+e.path+" to:"+t.path,event_label:"from:"+e.path+" to:"+t.path,value:"from:"+e.path+" to:"+t.path})}}},S=I,B=(s("5c0b"),Object(N["a"])(S,i,o,!1,null,null,null)),U=B.exports,A=s("8c4f"),R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("h4",{staticClass:"ui header"},[t._v("請先登入，和"),s("span",[t._v(t._s(t.toList(t.users).length>0?t.toList(t.users).length:"各"))]),t._v("位朋友相互認識，升起互助旗"),t.user?t._e():s("span")]),s("div",{staticClass:"ui huge buttons"},[s("router-link",{staticClass:"ui purple button",attrs:{to:"/intro"}},[t._v("瞭解更多")]),t.user?s("router-link",{staticClass:"ui blue button",attrs:{to:"/myFlag"}},[t._v("前往我的旗幟")]):s("button",{staticClass:"ui orange button",class:{disabled:t.isInApp},on:{click:t.loginGoogle}},[s("i",{staticClass:"google icon"}),t._v("登入")])],1),s("div",{staticClass:"ui divider"}),t.isInApp?s("p",[t._v("本系統不支援facebook, link等app內部瀏覽，請用一般瀏覽器開啟，方可登入，謝謝")]):t._e(),s("div",{staticClass:"ui divider"}),t.users&&t.users.length?s("h2",[t._v("最近更新")]):t._e(),t.toList(t.users).length>0?s("div",{staticClass:"ui two doubling cards container"},t._l(t.list.slice(0,2),(function(e,a){return s("div",{key:a,staticClass:"ui card"},[s("card",{attrs:{h:e,full:!0,mySearch:t.mySearch,uid:t.uid||"",book:t.book},on:{locate:t.locate,addBook:t.addBook,removeBook:t.removeBook}})],1)})),0):s("div",{staticClass:"ui active inverted dimmer"},[s("div",{staticClass:"ui text loader"},[t._v("Loading")])]),t.toList(t.users).length>0?s("div",{staticClass:"ui container"},[s("div",{staticClass:"ui divider"}),s("h2",[t._v("地圖")]),s("div",{staticClass:"ui grid"},[s("div",{staticClass:"ui stackable row"},[s("div",{staticClass:"six wide column"},[s("div",{staticClass:"ui button group"},t._l(t.cities,(function(e){return s("a",{staticClass:"ui green button",on:{click:function(s){return t.locateCity(e)}}},[t._v(t._s(e.t))])})),0)]),s("div",{staticClass:"ten wide column"},[s("l-map",{ref:"myMap",staticStyle:{width:"100%",height:"600px"},attrs:{zoom:t.zoom,center:t.center}},[s("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._l(t.searchBy(t.users,t.mySearch),(function(e,a){return s("l-marker",{key:a,attrs:{"lat-lng":t.countLatLng(e),icon:t.getAnIcon(e)},on:{click:function(s){return t.$router.push({path:"/flag/"+e.uid})}}},[s("l-popup",[t._v(t._s(e.name))])],1)}))],2)],1)])])]):t._e()])},P=[],F=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("router-link",{attrs:{to:"/flag/"+t.h.uid}},[s("div",{staticClass:"image"},[s("h3",{staticClass:"ui header"},[s("img",{staticClass:"main",attrs:{src:t.getIcon(t.h),alt:"^_^"}}),t._v(t._s(t.h.name)),t.h.learner_birth?s("span",[t._v("-"),s("span",{domProps:{innerHTML:t._s(t.toAge(t.h.learner_birth))}}),t._v("歲")]):t._e(),t.h.child_birth?s("span",[t._v("(孩子")]):t._e(),t.h.child_birth2?s("span",[t._v(t._s(t.toAge(t.h.child_birth2))+" ~")]):t._e(),t.h.child_birth?s("span",[t._v(t._s(t.toAge(t.h.child_birth))+" 歲)")]):t._e()])]),s("div",{staticClass:"content"},[s("p",{staticClass:"description gray"},[s("span",{domProps:{innerHTML:t._s(t.highlight(t.h.address,t.mySearch))}}),t._v(" - "+t._s(t.countDateDiff(t.h.lastUpdate))+"已更新")]),t.h.learner_habit&&t.full?s("p",{staticClass:"description",domProps:{innerHTML:t._s("興趣： "+t.highlight(t.h.learner_habit,t.mySearch))}}):t._e(),t.h.share?s("p",{staticClass:"description",domProps:{innerHTML:t._s("可分享： "+t.highlight(t.h.share,t.mySearch))}}):t._e(),t.h.ask?s("p",{staticClass:"description",domProps:{innerHTML:t._s("需要： "+t.highlight(t.h.ask,t.mySearch))}}):t._e(),t.h.price?s("p",{staticClass:"description",domProps:{innerHTML:t._s("可支付： "+t.highlight(t.h.price,t.mySearch))}}):t._e()]),t.h.connect_me&&t.full?s("div",{staticClass:"content"},[s("div",{staticClass:"ui divider"}),s("p",{staticClass:"descrtpion"},[t._v("連絡方式： "+t._s(t.h.connect_me))]),t.h.freetime?s("p",{staticClass:"descrtpion"},[t._v("有空時間： "+t._s(t.h.freetime))]):t._e()]):t._e(),s("div",{staticClass:"content"},[s("div",{staticClass:"ui divider"}),t.h.site?s("p",[s("a",{on:{click:function(e){return e.stopPropagation(),t.goto(t.h.site)}}},[t._v("個人網址："),s("img",{attrs:{src:"https://www.google.com/s2/favicons?domain="+t.h.site,title:"個人網址",alt:"個人網址"}}),s("i",{staticClass:"right arrow icon"})])]):t._e(),t.h.site2?s("p",[s("a",{on:{click:function(e){return e.stopPropagation(),t.goto(t.h.site2)}}},[t._v("社群網址："),s("img",{attrs:{src:"https://www.google.com/s2/favicons?domain="+t.h.site2,title:"社群網址",alt:"個人網址"}}),s("i",{staticClass:"right arrow icon"})])]):t._e()]),s("div",{staticClass:"content"},[s("div",{staticClass:"ui divider"}),t.full?s("p",{staticClass:"descrtpion"},[s("span",{staticClass:"text",domProps:{innerHTML:t._s(t.highlight(t.h.note,t.mySearch))}})]):s("p",{staticClass:"descrtpion"},[s("span",{staticClass:"text",domProps:{innerHTML:t._s(t.highlight(t.part(t.h.note),t.mySearch)+"...")}})])])]),s("div",{staticClass:"filler"}),s("div",{staticClass:"ui bottom attached buttons"},[t.book&&-1!=t.book.indexOf(t.h.uid||t.h.idx)?s("div",{staticClass:"ui red basic button",on:{click:function(e){t.removeBook(t.book.indexOf(t.h.uid||t.h.idx))}}},[s("i",{staticClass:"book icon"}),t._v("從名簿移除")]):s("div",{staticClass:"ui green basic button",on:{click:function(e){return t.addBook(t.h.uid||t.h.idx)}}},[s("i",{staticClass:"book icon"}),t._v("加入名簿")]),s("div",{staticClass:"ui pink basic button",on:{click:function(e){return t.locate(t.h)}}},[s("i",{staticClass:"map icon"}),t._v("地圖檢視")])])],1)},M=[],T={name:"card",mixins:[b],props:["h","mySearch","full","uid","book"],data(){return{}},methods:{goto(t){window.open(t)},locate:function(t){console.log(t),this.$emit("locate",t)},addBook:function(t){console.log(t),this.$emit("addBook",t)},removeBook:function(t){console.log(t),this.$emit("removeBook",t)}}},H=T,z=(s("31dc"),Object(N["a"])(H,F,M,!1,null,"0877a36a",null)),G=z.exports,D=s("e11e"),E=s.n(D),q=s("2699"),Q=s("a40a"),V=s("4e2b"),W=s("f60f"),K={name:"hello",components:{Card:G,LMap:q["a"],LTileLayer:Q["a"],LMarker:V["a"],LPopup:W["a"]},props:["uid","user","zoom","center","mySearch","photoURL","book","users","places","cities","isInApp"],mixins:[b],metaInfo:{title:"歡迎"},data(){return{msg:"歡迎",url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://osm.org/copyright">OpenStreetMap</a> contributors'}},computed:{list:function(){function t(t){const e=Object.keys(t);return e.map((function(e){return t[e]}))}var e=t(this.users).concat(t(this.places)).slice().sort((function(t,e){return!e.lastUpdate||isNaN(e.lastUpdate)?-1:e.lastUpdate-t.lastUpdate}));return e}},methods:{toList(t){const e=Object.keys(t);return e.map((function(e){return t[e]}))},locateCity:function(t){this.$emit("locateCity",t)},loginFB:function(){this.$emit("loginFB")},loginGoogle:function(){this.$emit("loginGoogle")},isFacebookApp:function(){var t=navigator.userAgent||navigator.vendor||window.opera||"";return t.indexOf("FBAN")>-1||t.indexOf("FBAV")>-1},locate:function(t){this.$emit("locate",t)},addBook:function(t){console.log(t),this.$emit("addBook",t)},removeBook:function(t){console.log(t),this.$emit("removeBook",t)},countLatLng:function(t){return t.latlngColumn?{lat:t.latlngColumn.split(",")[0],lng:t.latlngColumn.split(",")[1]}:{lat:0,lng:0}},getAnIcon:function(t){return D["icon"]({iconUrl:this.getIcon(t),shadowUrl:"",iconSize:[50,50],shadowSize:[0,0],iconAnchor:[25,25],shadowAnchor:[0,0],popupAnchor:[0,0]})}},mounted(){}},J=K,Y=(s("e1be"),Object(N["a"])(J,R,P,!1,null,null,null)),Z=Y.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[a("h1",{staticClass:"ui header"},[a("img",{attrs:{src:s("5b56")}}),t._v(t._s(t.msg)),a("img",{attrs:{src:s("5b56")}})]),a("h4",{staticClass:"ui header"},[t._v("升上互助旗，和"),t.users?a("span",[t._v(t._s(t.toList(t.users).length))]):a("span",[t._v("各")]),t._v("位朋友相互認識")]),t.user?t._e():a("div",{staticClass:"ui huge buttons"},[a("button",{staticClass:"ui orange button",on:{click:t.loginGoogle}},[a("i",{staticClass:"google icon"}),t._v("登入 ")])]),t._m(0)])},tt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui segment container"},[s("h2",{staticClass:"ui header"},[t._v("自主學習2.0是什麼?")]),s("h4",[t._v("自主學習2.0是一個公益的尋友平台，可以依地圖的地理位置尋友，也可依照孩子的年紀，升旗者的興趣和可分享的專長來尋友")]),s("h2",{staticClass:"ui header"},[t._v("這是什麼單位在設計維護的?")]),s("h4",[t._v("本平台由"),s("a",{attrs:{href:"http://www.alearn.org.tw",target:"_blank"}},[t._v("自主學習促進會")]),t._v("設計維護")]),s("h2",{staticClass:"ui header"},[t._v("互助旗是什麼?")]),s("h4",[t._v("互助旗是一個帶有概略地理位置的自我介紹，讓人在和您碰面之前，先對您有初步的瞭解和認識")]),s("h2",{staticClass:"ui header"},[t._v("我的互助旗會是公開的嗎?能不能保密?")]),s("h4",[t._v("互助旗是完全公開的，您可以只留下願意公開的資訊")]),s("h2",{staticClass:"ui header"},[t._v("升起互助旗後可以修改嗎?")]),s("h4",[t._v("可以，只要再次登入，點選[我的旗幟]即可修改")]),s("h2",{staticClass:"ui header"},[t._v("升起互助旗後可以移除嗎?")]),s("h4",[t._v("可以，您可以"),s("a",{attrs:{href:"mailto:bestian@gmail.com"}},[t._v("e-mail給管理員bestian@gmail.com")]),t._v("手動移除")]),s("h2",{staticClass:"ui header"},[t._v("地圖介面的用意?")]),s("h4",[t._v("讓您可以就近尋找夥伴，例如:[宜蘭附近有沒有自學朋友呢]? 看地圖就很清楚了")])])}],et={name:"intro",components:{Card:G},props:["uid","user","mySearch","photoURL","book","users"],mixins:[b],metaInfo:{title:"使用說明"},data(){return{msg:"自主學習2.0使用說明"}},methods:{toList(t){const e=Object.keys(t);return e.map((function(e){return t[e]}))},loginFB:function(){this.$emit("loginFB")},loginGoogle:function(){this.$emit("loginGoogle")},isFacebookApp:function(){var t=navigator.userAgent||navigator.vendor||window.opera;return t.indexOf("FBAN")>-1||t.indexOf("FBAV")>-1},locate:function(t){this.$emit("locate",t)},addBook:function(t){console.log(t),this.$emit("addBook",t)},removeBook:function(t){console.log(t),this.$emit("removeBook",t)}}},st=et,at=(s("ede2"),Object(N["a"])(st,X,tt,!1,null,"2a7b2fc1",null)),it=at.exports,ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("loader",{directives:[{name:"show",rawName:"v-show",value:!t.users,expression:"!users"}]}),s("div",{staticClass:"ui divider"}),s("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"ui two doubling cards container",attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"10"}},t._l(t.searchBy(t.list,t.mySearch).slice(0,t.n),(function(e,a){return s("div",{key:a,staticClass:"ui card"},[s("card",{attrs:{h:e,full:!1,mySearch:t.mySearch,id:t.id,book:t.book},on:{locate:t.locate,addBook:t.addBook,removeBook:t.removeBook}})],1)})),0)],1)},nt=[],rt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},lt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("div",{staticClass:"ui active inverted dimmer"},[s("div",{staticClass:"ui big text loader"},[t._v("Loading...")])])])}],ct={name:"loader",data(){return{}},methods:{}},ut=ct,dt=Object(N["a"])(ut,rt,lt,!1,null,"a206a572",null),mt=dt.exports,ht={name:"cards",mixins:[b],props:["mySearch","id","book","users","places"],components:{Loader:mt,Card:G},metaInfo:{title:"自主學習朋友"},data(){return{n:20,busy:!1}},computed:{list:function(){function t(t){const e=Object.keys(t);return e.map((function(e){return t[e]}))}var e=t(this.users).concat(t(this.places)).slice().sort((function(t,e){return!e.lastUpdate||isNaN(e.lastUpdate)?-1:e.lastUpdate-t.lastUpdate}));return e}},methods:{locate:function(t){this.$emit("locate",t)},addBook:function(t){console.log(t),this.$emit("addBook",t)},removeBook:function(t){console.log(t),this.$emit("removeBook",t)},loadMore:function(){this.busy=!0,setTimeout(()=>{this.n+=20,this.busy=!1},1)}}},pt=ht,vt=Object(N["a"])(pt,ot,nt,!1,null,"3a9829a5",null),gt=vt.exports,ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("loader",{directives:[{name:"show",rawName:"v-show",value:!t.users,expression:"!users"}]}),s("div",{staticClass:"ui divider"}),s("div",{staticClass:"ui grid"},[s("div",{staticClass:"ui stackable row"},[s("div",{staticClass:"sixteen wide column"},[s("l-map",{ref:"myMap",staticStyle:{width:"100%",height:"600px"},attrs:{zoom:t.zoom,center:t.center}},[s("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._l(t.searchBy(t.places,t.mySearch),(function(e,a){return s("l-marker",{key:a,attrs:{"lat-lng":t.countLatLng(e),icon:t.getAnIcon(e)},on:{click:function(e){return t.$router.push({path:"/place/"+a})}}},[s("l-popup",[t._v(t._s(e.name))])],1)})),t._l(t.searchBy(t.users,t.mySearch),(function(e,a){return s("l-marker",{key:a,attrs:{"lat-lng":t.countLatLng(e),icon:t.getAnIcon(e)},on:{click:function(s){return t.$router.push({path:"/flag/"+e.uid})}}},[s("l-popup",[t._v(t._s(e.name))])],1)}))],2)],1)])])],1)},bt=[],_t={name:"maps",mixins:[b],props:["mySearch","zoom","center","cities","users","places"],components:{LMap:q["a"],LTileLayer:Q["a"],LMarker:V["a"],LPopup:W["a"],Loader:mt},metaInfo:{title:"地圖"},data(){return{url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://osm.org/copyright">OpenStreetMap</a> contributors'}},methods:{locateCity:function(t){this.$emit("locateCity",t)},countLatLng:function(t){return t.latlngColumn?{lat:t.latlngColumn.split(",")[0],lng:t.latlngColumn.split(",")[1]}:{lat:0,lng:0}},getAnIcon:function(t){return D["icon"]({iconUrl:this.getIcon(t),alt:t.name,shadowUrl:"",iconSize:[50,50],shadowSize:[0,0],iconAnchor:[25,25],shadowAnchor:[0,0],popupAnchor:[0,0]})}}},wt=_t,Ct=Object(N["a"])(wt,ft,bt,!1,null,null,null),kt=Ct.exports,yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("loader",{directives:[{name:"show",rawName:"v-show",value:!t.users,expression:"!users"}]}),s("div",{staticClass:"ui segment container"},t._l(t.users,(function(e,a){return e.uid==t.$route.params.uid?s("div",{staticClass:"ui fluid card"},[s("card",{attrs:{h:e,full:!0,book:t.book,mySearch:t.mySearch},on:{locate:t.locate,addBook:t.addBook}}),s("ShareNetwork",{staticClass:"ui huge blue button",attrs:{network:"facebook",url:"https://we.alearn.org.tw/#/flag/"+e.uid,title:e.name,description:e.name+": "+e.note,quote:e.name+": "+e.note}},[s("i",{staticClass:"facebook icon"}),t._v("臉書分享")])],1):t._e()})),0)],1)},xt=[],Nt={name:"flag",components:{Card:G,Loader:mt},mixins:[b],props:["mySearch","book","users"],metaInfo(){return{title:this.myT}},data(){return{}},computed:{myT(){return Object.keys(this.users).length>0&&this.$route.params.uid?this.users[this.$route.params.uid].name:[{name:"旗幟"}][0].name}},methods:{locate:function(t){this.$emit("locate",t)},addBook:function(t){console.log(t),this.$emit("addBook",t)}}},$t=Nt,Ot=(s("87ed"),Object(N["a"])($t,yt,xt,!1,null,"429a2945",null)),Lt=Ot.exports,jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("loader",{directives:[{name:"show",rawName:"v-show",value:!t.places.length,expression:"!places.length"}]}),s("div",{staticClass:"ui segment container"},[t._l(t.places,(function(e,a){return s("div",{directives:[{name:"show",rawName:"v-show",value:a==t.$route.params.idx,expression:"index == $route.params.idx"}],staticClass:"ui fluid card"},[s("card",{attrs:{h:e,full:!0,book:t.book,mySearch:t.mySearch},on:{locate:t.locate,addBook:t.addBook}})],1)})),s("iframe",{staticStyle:{border:"none",overflow:"hidden"},attrs:{src:"https://www.facebook.com/plugins/share_button.php?href=https%3A%2F%2Fwe.alearn.org.tw%2F%23%2Fflag%2F"+t.$route.params.id+"&layout=button_count&size=small&mobile_iframe=true&appId=485195848253155&width=63&height=20",width:"104",height:"28",scrolling:"no",frameborder:"0",allowTransparency:"true",allow:"encrypted-media"}})],2)],1)},It=[],St={name:"flag",components:{Card:G,Loader:mt},mixins:[b],props:["mySearch","book"],metaInfo:{title:"地點"},data(){return{places:[]}},firebase:{places:p},methods:{locate:function(t){this.$emit("locate",t)},addBook:function(t){console.log(t),this.$emit("addBook",t)}}},Bt=St,Ut=(s("58ba"),Object(N["a"])(Bt,jt,It,!1,null,"0be4173a",null)),At=Ut.exports,Rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("loader",{directives:[{name:"show",rawName:"v-show",value:!t.users,expression:"!users"}]}),t.isInApp?s("p",[t._v("本系統不支援facebook, link等app內部瀏覽，請用一般瀏覽器開啟，方可登入，謝謝")]):t._e(),t.uid&&!t.root.name&&t.users?s("div",{staticClass:"ui massive blue button",on:{click:function(e){return t.setMe()}}},[t._v("按此開始")]):t._e(),t.user?t._e():s("div",{staticClass:"ui huge buttons"},[s("button",{staticClass:"ui orange button",on:{click:t.loginGoogle}},[s("i",{staticClass:"google icon"}),t._v("登入 ")])]),t.root.name?s("div",{staticClass:"ui container"},[s("form",{staticClass:"ui form error warning success",attrs:{id:"main-form"}},[s("h2",{staticClass:"ui header"},[t._v("請填表")]),t._m(0),s("h4",{staticClass:"ui dividing header"},[t._v("關於我")]),s("div",{staticClass:"field"},[s("label",{staticClass:"required"},[t._v("名字")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.root.name,expression:"root.name"}],attrs:{type:"text",placeholder:"您的大名"},domProps:{value:t.root.name},on:{input:function(e){e.target.composing||t.$set(t.root,"name",e.target.value)}}})]),s("div",{staticClass:"field",class:{error:t.root.address&&("undefined,undefined"==t.root.latlngColumn||"36.778261,-119.4179324"==t.root.latlngColumn)}},[s("label",{staticClass:"required"},[t._v("概略地址")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.root.address,expression:"root.address",modifiers:{trim:!0}}],attrs:{placeholder:"地址愈詳細，別人愈好認識你的所在"},domProps:{value:t.root.address},on:{keyup:function(e){return t.checkLatLng(t.root.address)},input:function(e){e.target.composing||t.$set(t.root,"address",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.root.address&&"undefined,undefined"!==t.root.latlngColumn&&"36.778261,-119.4179324"!==t.root.latlngColumn,expression:"root.address && root.latlngColumn !== 'undefined,undefined' && root.latlngColumn !== '36.778261,-119.4179324'"}]},[s("span",{domProps:{innerHTML:t._s(t.root.latlngColumn)}}),s("a",{attrs:{href:"https://www.google.com.tw/maps/search/"+t.root.address,target:"_blank"}},[t._v(" 看地圖測試")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.root.address&&("undefined,undefined"==t.root.latlngColumn||"36.778261,-119.4179324"==t.root.latlngColumn),expression:"(root.address && (root.latlngColumn == 'undefined,undefined' || root.latlngColumn == '36.778261,-119.4179324'))"}],staticClass:"ui error message"},[s("div",{staticClass:"header"},[t._v("無法定位")]),t._m(1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.usedAddr(t.root),expression:"usedAddr(root)"}],staticClass:"ui warning message"},[s("div",{staticClass:"header"},[t._v("地址重疊")]),s("p",[t._v("有別人使用了這個地址。您可以加上村里或是路段，來使定位更精準")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.tooDetail(t.root.address),expression:"tooDetail(root.address)"}],staticClass:"ui warning message"},[s("div",{staticClass:"header"},[t._v("地址太詳細了")]),s("p",[t._v("這是公開資料，最細寫到路段即可，請不要寫出門牌號碼。")])])]),s("div",{staticClass:"ui divider"}),s("div",{staticClass:"field"},[s("label",[t._v("網址")]),s("div",{staticClass:"two fields"},[s("div",{staticClass:"field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.root.site,expression:"root.site"}],attrs:{placeholder:"個人網址"},domProps:{value:t.root.site},on:{input:function(e){e.target.composing||t.$set(t.root,"site",e.target.value)}}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.root.site,expression:"root.site"}]},[s("a",{attrs:{href:t.root.site,target:"_blank"}},[s("img",{attrs:{src:"https://www.google.com/s2/favicons?domain="+t.root.site,title:"個人網址",alt:"個人網址"}}),t._v("測試連結")])])]),s("div",{staticClass:"field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.root.site2,expression:"root.site2"}],attrs:{placeholder:"參與的社群網址"},domProps:{value:t.root.site2},on:{input:function(e){e.target.composing||t.$set(t.root,"site2",e.target.value)}}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.root.site2,expression:"root.site2"}]},[s("a",{directives:[{name:"show",rawName:"v-show",value:t.root.site2,expression:"root.site2"}],attrs:{href:t.root.site2,target:"_blank"}},[s("img",{attrs:{src:"https://www.google.com/s2/favicons?domain="+t.root.site2,title:"社群網址",alt:"社群網址"}}),t._v("測試連結")])])])])]),s("div",{staticClass:"two fields"},[s("div",{staticClass:"field"},[s("label",{staticClass:"required"},[t._v("有效聯絡方式")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.root.connect_me,expression:"root.connect_me"}],attrs:{type:"text",placeholder:"可公開的方式，如e-mail。臉書私訊不可"},domProps:{value:t.root.connect_me},on:{input:function(e){e.target.composing||t.$set(t.root,"connect_me",e.target.value)}}})]),s("div",{staticClass:"field"},[s("label",[t._v("比較有空的時段")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.root.freetime,expression:"root.freetime"}],attrs:{type:"text",placeholder:"例如：週五下午和週末"},domProps:{value:t.root.freetime},on:{input:function(e){e.target.composing||t.$set(t.root,"freetime",e.target.value)}}})])]),s("h4",{staticClass:"ui dividing header"},[t._v("社交資訊")]),s("div",{staticClass:"field"},[s("label",[t._v("您的身份")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.root.learner_role,expression:"root.learner_role"}],staticClass:"selectpicker",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.root,"learner_role",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v(" -- 選擇一種自學身份 -- ")]),t._l(["自學生","自學家長","獨立教育工作者","自學家長 + 獨立教育工作者","自學生 + 獨立教育工作者","自學生 + 自學家長","自學生 + 自學家長 + 獨立教育工作者"],(function(e){return s("option",{domProps:{selected:t.root.learner_role==e,value:e}},[t._v(t._s(e))])}))],2)]),s("div",{staticClass:"field"},[s("label",[t._v("主要的自學型態")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.root.learner_type,expression:"root.learner_type"}],staticClass:"selectpicker",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.root,"learner_type",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:""}},[t._v(" -- 選擇一種自學型態 -- ")]),t._l(["個人","三五好友","團體共學","類學校機構"],(function(e){return s("option",{domProps:{selected:t.root.learner_type==e,value:e}},[t._v(t._s(e))])}))],2)]),s("div",{staticClass:"field",class:{error:t.badAge(t.root.learner_birth),warning:!t.root.learner_birth}},[s("label",{staticClass:"required"},[t._v("您的出生年次(西元)")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.root.learner_birth,expression:"root.learner_birth"}],attrs:{type:"text",placeholder:"您自己的年次，如1976"},domProps:{value:t.root.learner_birth},on:{input:function(e){e.target.composing||t.$set(t.root,"learner_birth",e.target.value)}}})]),s("span",{directives:[{name:"show",rawName:"v-show",value:t.root.learner_birth,expression:"root.learner_birth"}]},[t._v("大約"+t._s(t.toAge(t.root.learner_birth))+"歲")]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.root.learner_birth,expression:"!root.learner_birth"}],staticClass:"ui warning message"},[s("div",{staticClass:"header"},[t._v("請填出生年份")]),s("p",[t._v("這是為了尋友用，如果您不願意填真實年份，可以增減1~2歲。")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.badAge(t.root.learner_birth),expression:"badAge(root.learner_birth)"}],staticClass:"ui error message"},[s("div",{staticClass:"header"},[t._v("無法計算年歲")]),s("p",[t._v(" 出生年(西元)的欄位僅能填寫數字喔")])]),s("div",{staticClass:"field"},[s("label",[t._v("孩子的出生年次(西元)，若還沒有孩子或還不需找共學夥伴可略過本項")]),s("span",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.root.child_birth,expression:"root.child_birth"}],attrs:{type:"text",placeholder:"最大孩子的出生年次(西元)"},domProps:{value:t.root.child_birth},on:{input:function(e){e.target.composing||t.$set(t.root,"child_birth",e.target.value)}}}),s("br"),s("span",{directives:[{name:"show",rawName:"v-show",value:t.root.child_birth,expression:"root.child_birth"}]},[t._v("大約"+t._s(t.toAge(t.root.child_birth))+"歲")]),s("div",{staticClass:"ui divider"}),s("span",{staticStyle:{"margin-left":"15px"}},[t._v("若您有多位孩子，請再填寫："),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.root.child_birth2,expression:"root.child_birth2"}],attrs:{type:"text",placeholder:"最小孩子的出生年次(西元)"},domProps:{value:t.root.child_birth2},on:{input:function(e){e.target.composing||t.$set(t.root,"child_birth2",e.target.value)}}}),s("br")]),s("span",{directives:[{name:"show",rawName:"v-show",value:t.root.child_birth2,expression:"root.child_birth2"}]},[t._v("大約"+t._s(t.toAge(t.root.child_birth2))+"歲~"+t._s(t.toAge(t.root.child_birth))+"歲 ")])]),s("div",{staticClass:"ui divider"}),s("div",{staticClass:"three fields"},[s("div",{staticClass:"field"},[s("label",{staticClass:"required"},[t._v("個人興趣")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.root.learner_habit,expression:"root.learner_habit"}],attrs:{placeholder:"個人興趣"},domProps:{value:t.root.learner_habit},on:{input:function(e){e.target.composing||t.$set(t.root,"learner_habit",e.target.value)}}})]),s("div",{staticClass:"field"},[s("label",{staticClass:"required"},[t._v("可分享")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.root.share,expression:"root.share"}],attrs:{placeholder:"知識、服務、場地設備或物資"},domProps:{value:t.root.share},on:{input:function(e){e.target.composing||t.$set(t.root,"share",e.target.value)}}})]),s("div",{staticClass:"field"},[s("label",[t._v("尋找")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.root.ask,expression:"root.ask"}],attrs:{placeholder:"讓人知道可以協助你什麼?"},domProps:{value:t.root.ask},on:{input:function(e){e.target.composing||t.$set(t.root,"ask",e.target.value)}}})]),s("div",{staticClass:"field"},[s("label",[t._v("可支付")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.root.price,expression:"root.price"}],attrs:{placeholder:"你願意支付多少錢或換工來得到協助?"},domProps:{value:t.root.price},on:{input:function(e){e.target.composing||t.$set(t.root,"price",e.target.value)}}})])]),s("div",{staticClass:"field"},[s("label",{staticClass:"required"},[t._v("自我介紹")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.root.note,expression:"root.note"}],attrs:{id:"note",rows:"5",cols:"30",placeholder:"自我介紹很重要，請寫20字以上，謝謝"},domProps:{value:t.root.note},on:{input:function(e){e.target.composing||t.$set(t.root,"note",e.target.value)}}})]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.root.note&&t.root.note.length<20,expression:"root.note && root.note.length < 20"}],staticClass:"ui warning message"},[s("div",{staticClass:"header"},[t._v("請再寫"+t._s(20-t.root.note.length)+"字介紹您自己")]),s("p",[t._v("愈詳細別人愈能認識您，您的旗幟才好發揮作用。 ")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.root.note&&t.root.note.length>=20,expression:"root.note && root.note.length >= 20"}],staticClass:"ui success message"},[s("div",{staticClass:"header"},[t._v("謝謝您")]),s("p",[t._v("您詳細的介紹，讓人能夠更認識您。")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isValid(t.root),expression:"!isValid(root)"}],staticClass:"warning"},[t._v("note: 您還有"),s("i",{staticClass:"red star"}),t._v("必填項目尚未填寫")])]),s("div",{staticClass:"ui divider"}),s("a",{staticClass:"ui large blue button",class:{disabled:!t.isValid(t.root)},on:{click:t.updateFlag}},[s("span",{directives:[{name:"show",rawName:"v-show",value:!this.users[this.uid],expression:"!this.users[this.uid]"}]},[t._v("升起旗幟!!")]),s("span",{directives:[{name:"show",rawName:"v-show",value:this.users[this.uid],expression:"this.users[this.uid]"}]},[t._v("更新旗幟!!")])]),s("br"),s("br"),s("br"),s("br"),s("br")]):t._e()],1)},Pt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sub header"},[t._v("為了讓人真的能找到夥伴"),s("br"),t._v("有標記紅色星號"),s("i",{staticClass:"red star"}),t._v("的欄位為必填")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("如果您有不只一個住處，請填寫一個就好，其他可寫進自我介紹中。"),s("br"),t._v("若持續無法定位，請"),s("a",{attrs:{href:"https://www.google.com.tw/chrome/browser/desktop/",target:"_blank"}},[t._v("使用Chrome瀏覽器")]),t._v("再試一次。")])}],Ft={name:"myflag",mixins:[b],props:["uid","user","email","mySearch","provider","photoURL","users","isInApp"],components:{Loader:mt},metaInfo:{title:"我的旗幟"},data(){return{myIndex:-1,root:{},local:{}}},methods:{setMe(){console.log(this.users);const t=Object.keys(this.users);this.root=this.users[this.uid]||{},this.root.email=this.email,console.log(this.root.email),this.myIndex=t.indexOf(this.uid),this.uid&&-1===this.myIndex&&(console.log("new"),this.myIndex=this.uid,this.root={name:this.user.providerData[0].displayName||"新朋友",uid:this.uid,email:this.email,photoURL:this.photoURL||"",note:""}),console.log(this.root.name),console.log(this.root),this.$forceUpdate()},checkLatLng:function(t){var e=this;console.log("checkLatLng:"+t),this.$http.get("https://api.opencagedata.com/geocode/v1/json?q="+encodeURIComponent(t)+"&key=ee2340e9a9e146e090943337d14a76d4&language=zh&pretty=1").then(t=>{var s,a,i=t.body;console.log(i);try{s=i.results[0].bounds.northeast.lat,a=i.results[0].bounds.northeast.lng}catch(o){console.log(o)}if(!s||!a)try{s=i.query.results.Result.latitude,a=i.query.results.Result.longitude}catch(o){console.log(o)}e.root.latlngColumn=s+","+a,e.local.lat=parseFloat(s),e.local.lng=parseFloat(a)})},usedAddr:function(t){const e=this;console.log(this.users);const s=Object.keys(this.users),a=s.map((function(t){return e.users[t]}));var i,o,n,r,l;for(i=!1,o=0,r=(n=a.filter(c)).length;o<r;++o)if(l=n[o],l.latlngColumn===t.latlngColumn){i=!0;break}return"undefined,undefined"!==t.latlngColumn&&"36.778261,-119.4179324"!==t.latlngColumn||(i=!1),i;function c(e){return e.name!==t.name}},tooDetail:function(t){return!!t&&!!t.match(/(號|樓|F|f)/)},updateFlag:function(){this.root.lastUpdate=(new Date).getTime(),this.myIndex>-1?Object(l["d"])(Object(l["c"])(m,"users/"+this.uid),this.root).then(alert("更新成功!")):(console.log("new2"),Object(l["d"])(Object(l["c"])(m,"users/"+this.uid),this.root).then(alert("登錄成功!")))},loginFB:function(){this.$emit("loginFB")},loginGoogle:function(){this.$emit("loginGoogle")}}},Mt=Ft,Tt=(s("4e54"),Object(N["a"])(Mt,Rt,Pt,!1,null,"358374a2",null)),Ht=Tt.exports,zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("div",{staticClass:"ui container"},[s("div",{staticClass:"ui grid"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.uid,expression:"uid"}],staticClass:"row ui form"},[s("div",{staticClass:"field"},[s("div",{staticClass:"ui labeled input"},[s("label",{staticClass:"ui label"},[t._v("輸入名字")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newName,expression:"newName"}],attrs:{type:"text",placeholder:"請先輸入社團名"},domProps:{value:t.newName},on:{input:function(e){e.target.composing||(t.newName=e.target.value)}}})])]),s("div",{staticClass:"field"},[s("a",{staticClass:"ui green button",class:{disabled:!t.newName},on:{click:function(e){return t.addGroup()}}},[t._v("創建社團")])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"ui list"},t._l(t.searchBy(t.groups,t.mySearch),(function(e,a){return s("div",{key:e.idx,staticClass:"item ui segment"},[s("h3",[t._v("〈"+t._s(e.n)+"〉")]),s("p",[t._v(t._s(e.intro)),s("br",{staticClass:"thin-only"}),t._v(" "),s("a",{on:{click:function(e){t.edit=!t.edit}}},[s("i",{staticClass:"edit icon"}),t._v(t._s(t.edit?"結束":"")+"編輯社團資料")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.edit,expression:"edit"}],staticClass:"ui form"},[t.uid?t._e():s("div",{staticClass:"field"},[s("button",{staticClass:"ui orange button",on:{click:function(e){return t.loginGoogle()}}},[s("i",{staticClass:"google icon"}),t._v("請先登入")])]),s("div",{staticClass:"field"},[s("div",{staticClass:"ui labeled input"},[s("label",{staticClass:"ui label"},[t._v("輸入社團簡介 ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newIntro,expression:"newIntro"}],attrs:{type:"text",placeholder:"請先輸入社團簡介"},domProps:{value:t.newIntro},on:{input:function(e){e.target.composing||(t.newIntro=e.target.value)}}})])]),s("div",{staticClass:"field"},[s("a",{staticClass:"ui green button",class:{disabled:!t.newIntro},on:{click:function(e){return t.addIntro(a)}}},[t._v("更新簡介")])])]),s("div",{staticClass:"ui grid"},[s("div",{staticClass:"row"},[s("p",[t._v("成員："),t._l(e.members,(function(e){return s("span",[s("router-link",{attrs:{to:"/flag/"+e}},[s("img",{staticClass:"ui avatar",attrs:{src:t.users[e].photoURL,alt:"users[m].n"}})])],1)})),s("span",{directives:[{name:"show",rawName:"v-show",value:t.uid,expression:"uid"}]},[s("a",{directives:[{name:"show",rawName:"v-show",value:!t.isMember(e.idx),expression:"!isMember(g.idx)"}],staticClass:"ui green tiny button",on:{click:function(s){return t.join(e.idx)}}},[t._v("我要加入")]),s("a",{directives:[{name:"show",rawName:"v-show",value:t.isMember(e.idx),expression:"isMember(g.idx)"}],staticClass:"ui red tiny button",on:{click:function(s){return t.out(e.idx)}}},[t._v("我要退出")])])],2)]),s("div",{staticClass:"two column stackable row"},[s("div",{staticClass:"column"},[s("div",{staticClass:"ui divided list"},[t._l(e.res,(function(e,a){return s("div",{key:a+e.n+e.href,staticClass:"item"},[s("a",{attrs:{href:e.href,target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"http://www.google.com/s2/favicons?domain="+e.href,alt:e.n}}),t._v(t._s(e.n))])])})),s("div",{directives:[{name:"show",rawName:"v-show",value:t.uid&&t.edit,expression:"uid && edit"}],staticClass:"item ui form"},[s("div",{staticClass:"field"},[s("div",{staticClass:"ui labeled input"},[s("label",{staticClass:"ui label"},[t._v("輸入資源名")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newResName,expression:"newResName"}],attrs:{type:"text",placeholder:"請先輸入資源名"},domProps:{value:t.newResName},on:{input:function(e){e.target.composing||(t.newResName=e.target.value)}}})])]),s("div",{staticClass:"field"},[s("div",{staticClass:"ui labeled input"},[s("label",{staticClass:"ui label"},[t._v("輸入資源網址")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newHref,expression:"newHref"}],attrs:{type:"text",placeholder:"請先輸入資源網址"},domProps:{value:t.newHref},on:{input:function(e){e.target.composing||(t.newHref=e.target.value)}}})])]),s("div",{staticClass:"field"},[s("a",{staticClass:"ui green button",class:{disabled:!t.newHref||!t.newResName},on:{click:function(e){return t.addRes(a)}}},[t._v("新增資源")])])])],2)]),s("div",{staticClass:"column"},[s("div",{staticClass:"ui divided list"},[t._l(e.chats,(function(e,a){return s("div",{key:a,staticClass:"item"},[t._v(t._s(e.n)+" : "+t._s(e.t))])})),t.uid&&t.edit?s("div",{staticClass:"item ui form"},[s("div",{staticClass:"field"},[s("img",{staticClass:"ui avatar",attrs:{src:t.photoURL}}),s("div",{staticClass:"ui labeled input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],staticClass:"input",attrs:{placeholder:"在想什麼嗎?"},domProps:{value:t.msg},on:{input:function(e){e.target.composing||(t.msg=e.target.value)}}}),s("a",{staticClass:"ui label green button",class:{disabled:!t.msg},on:{click:function(e){return t.addChat(a)}}},[t._v("留言")])])])]):t._e()],2)])])])])})),0)]),t._m(0),t._m(1)])])])},Gt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"column"},[s("h3",[t._v("站外社團連結")]),s("iframe",{attrs:{width:"100%",height:"600",src:"https://docs.google.com/spreadsheets/d/1BbdFTBmHNehZIRoqpzaFmd1E5HE2qTdvnaQUWnB5m50/edit?usp=sharing"}})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"column"},[s("h3",[t._v("社團登錄表單")]),s("iframe",{attrs:{width:"100%",height:"600",src:"https://docs.google.com/forms/d/e/1FAIpQLSdWQf1xFlugOLL1cQwlMc-od06wHSTLLwlpjYTqli5bHAHgcw/viewform"}})])])}],Dt={name:"groups",props:["photoURL","users","user","uid","mySearch"],metaInfo:{title:"自學社團"},data(){return{edit:!1,newIntro:"",newName:"",newResName:"",newHref:"",msg:"",groups:[]}},methods:{loginGoogle:function(){this.$emit("loginGoogle")},isMember(t){return(this.groups[t].members||[]).indexOf(this.uid)>-1},join(t){this.groups[t].members=this.groups[t].members||[],this.groups[t].members.push(this.uid),Object(l["d"])(Object(l["c"])(m,"groups"),this.groups).then(console.log("groups更新成功"))},out(t){const e=this;this.groups[t].members=this.groups[t].members||[],this.groups[t].members=this.groups[t].members.filter((function(t){return t!==e.uid})),Object(l["d"])(Object(l["c"])(m,"groups"),this.groups).then(console.log("groups更新成功"))},searchBy(t,e){return e?t.filter((function(t){return JSON.stringify(t).indexOf(e)>-1})):t},addChat(t){var e={uid:this.uid,n:(this.user.providerData||[{displayName:"匿名"}])[0].displayName,t:this.msg,photoURL:this.photoURL||"",time:(new Date).getTime()};this.groups[t].chats=this.groups[t].chats||[],this.msg&&(this.groups[t].chats.push(e),this.msg=""),Object(l["d"])(Object(l["c"])(m,"groups/"+t),this.g).then(console.log("groups更新成功"))},addGroup(){this.groups.push({n:this.newName,res:[],chats:[],idx:this.groups.length}),this.newName="",Object(l["d"])(Object(l["c"])(m,"groups"),this.groups).then(console.log("groups更新成功"))},addRes(t){this.groups[t].res=this.groups[t].res||[],this.groups[t].res.push({n:this.newResName,href:this.newHref}),this.newResName="",this.newHref="",Object(l["d"])(Object(l["c"])(m,"groups"),this.groups).then(console.log("groups更新成功"))},addIntro(t){this.groups[t].intro=this.newIntro,this.newIntro="",Object(l["d"])(Object(l["c"])(m,"groups"),this.groups).then(console.log("groups更新成功"))}},mounted(){const t=this;Object(l["b"])(f,e=>{const s=e.val();t.groups=s||[]})}},Et=Dt,qt=(s("afd1"),Object(N["a"])(Et,zt,Gt,!1,null,"6cf11cd2",null)),Qt=qt.exports,Vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[t.groups[0]?s("div",{staticClass:"ui container"},[s("div",{staticClass:"ui grid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"ui list"},[s("div",{staticClass:"item"},[s("h3",[t._v("〈"+t._s(t.g.n)+"〉")]),s("p",[t._v(t._s(t.g.intro)),s("br",{staticClass:"thin-only"}),t._v(" "),s("a",{on:{click:function(e){t.edit=!t.edit}}},[s("i",{staticClass:"edit icon"}),t._v(t._s(t.edit?"結束":"")+"編輯社團資料")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.edit,expression:"edit"}],staticClass:"ui form"},[t.uid?t._e():s("div",{staticClass:"field"},[s("button",{staticClass:"ui orange button",on:{click:function(e){return t.loginGoogle()}}},[s("i",{staticClass:"google icon"}),t._v("請先登入")])]),s("div",{staticClass:"field"},[s("div",{staticClass:"ui labeled input"},[s("label",{staticClass:"ui label"},[t._v("輸入社團簡介 ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newIntro,expression:"newIntro"}],attrs:{type:"text",placeholder:"請先輸入社團簡介"},domProps:{value:t.newIntro},on:{input:function(e){e.target.composing||(t.newIntro=e.target.value)}}})])]),s("div",{staticClass:"field"},[s("a",{staticClass:"ui green button",class:{disabled:!t.newIntro},on:{click:function(e){return t.addIntro()}}},[t._v("更新簡介")])])]),s("div",{staticClass:"ui grid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"div pad"},[t._v("成員："),t._l(t.g.members,(function(e){return s("span",[s("router-link",{attrs:{to:"/flag/"+e}},[s("img",{staticClass:"ui avatar",attrs:{src:t.users[e].photoURL,alt:"users[m].n"}})])],1)})),s("span",{directives:[{name:"show",rawName:"v-show",value:t.uid,expression:"uid"}]},[s("a",{directives:[{name:"show",rawName:"v-show",value:!t.isMember(),expression:"!isMember()"}],staticClass:"ui green button",on:{click:function(e){return t.join()}}},[t._v("加入")]),s("a",{directives:[{name:"show",rawName:"v-show",value:!t.isMember(),expression:"!isMember()"}],staticClass:"ui red button",on:{click:function(e){return t.out()}}},[t._v("退出")])])],2)]),s("div",{staticClass:"two column stackable row"},[s("div",{staticClass:"column"},[s("div",{staticClass:"ui divided list"},[t._l(t.g.res,(function(e,a){return s("div",{key:a+e.n+e.href,staticClass:"item"},[s("a",{attrs:{href:e.href,target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"http://www.google.com/s2/favicons?domain="+e.href,alt:"r.n"}}),t._v(t._s(e.n))])])})),s("div",{directives:[{name:"show",rawName:"v-show",value:t.uid&&t.edit,expression:"uid && edit"}],staticClass:"item ui form"},[s("div",{staticClass:"field"},[s("div",{staticClass:"ui labeled input"},[s("label",{staticClass:"ui label"},[t._v("輸入資源名")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newResName,expression:"newResName"}],attrs:{type:"text",placeholder:"請先輸入資源名"},domProps:{value:t.newResName},on:{input:function(e){e.target.composing||(t.newResName=e.target.value)}}})])]),s("div",{staticClass:"field"},[s("div",{staticClass:"ui labeled input"},[s("label",{staticClass:"ui label"},[t._v("輸入資源網址")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newHref,expression:"newHref"}],attrs:{type:"text",placeholder:"請先輸入資源網址"},domProps:{value:t.newHref},on:{input:function(e){e.target.composing||(t.newHref=e.target.value)}}})])]),s("div",{staticClass:"field"},[s("a",{staticClass:"ui green button",class:{disabled:!t.newHref||!t.newResName},on:{click:function(e){return t.addRes()}}},[t._v("新增資源")])])])],2)]),s("div",{staticClass:"column"},[s("div",{staticClass:"ui divided list"},[t._l(t.g.chats,(function(e,a){return s("div",{key:a,staticClass:"item"},[t._v(t._s(e.n)+" : "+t._s(e.t))])})),s("div",{directives:[{name:"show",rawName:"v-show",value:t.uid&&t.edit,expression:"uid && edit"}],staticClass:"item ui form"},[s("div",{staticClass:"field"},[s("img",{staticClass:"ui avatar",attrs:{src:t.photoURL}}),s("div",{staticClass:"ui labeled input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],staticClass:"input",attrs:{placeholder:"在想什麼嗎?"},domProps:{value:t.msg},on:{input:function(e){e.target.composing||(t.msg=e.target.value)}}}),s("a",{staticClass:"ui label green button",class:{disabled:!t.msg},on:{click:function(e){return t.addChat(t.idx)}}},[t._v("留言")])])])])],2)])])])])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"column ui buttons"},[s("router-link",{staticClass:"ui green button",attrs:{to:"/groups"}},[s("i",{staticClass:"globe icon"}),t._v("查看所有社團")]),t.g.n?s("ShareNetwork",{staticClass:"ui blue button",attrs:{network:"facebook",url:"https://we.alearn.org.tw/#/group/"+t.$route.params.idx,title:t.g.n,description:t.g.n+": "+t.g.intro,quote:t.g.n+": "+t.g.intro}},[s("i",{staticClass:"facebook icon"}),t._v("臉書分享")]):t._e()],1)])])]):t._e()])},Wt=[],Kt={name:"group",props:["photoURL","users","user","uid","mySearch","groups"],metaInfo:{title:"自學社團"},data(){return{edit:!1,newIntro:"",newName:"",newResName:"",newHref:"",msg:"",g:{}}},methods:{loginGoogle:function(){this.$emit("loginGoogle")},isMember(){return(this.groups[this.$route.params.idx].members||[]).indexOf(this.uid)>-1},join(){this.groups[this.$route.params.idx].members=this.groups[this.$route.params.idx].members||[],this.groups[this.$route.params.idx].members.push(this.uid),Object(l["d"])(Object(l["c"])(m,"groups"),this.groups).then(console.log("groups更新成功"))},out(){const t=this;this.groups[this.$route.params.idx].members=this.groups[this.$route.params.idx].members||[],this.groups[this.$route.params.idx].members=this.groups[this.$route.params.idx].members.filter((function(e){return e!==t.uid})),Object(l["d"])(Object(l["c"])(m,"groups"),this.groups).then(console.log("groups更新成功"))},addChat(){var t={uid:this.uid,n:(this.user.providerData||[{displayName:"匿名"}])[0].displayName,t:this.msg,photoURL:this.photoURL||"",time:(new Date).getTime()};this.g.chats=this.g.chats||[],this.msg&&(this.g.chats.push(t),this.msg=""),Object(l["d"])(Object(l["c"])(m,"groups/"+this.$route.params.idx),this.g).then(console.log("groups更新成功"))},addGroup(){this.g.push({n:this.newName,res:[],chats:[],members:[this.uid]}),this.newName="",Object(l["d"])(Object(l["c"])(m,"groups/"+this.$route.params.idx),this.g).then(console.log("groups更新成功"))},addRes(){this.g.res=this.g.res||[],this.g.res.push({n:this.newResName,href:this.newHref}),this.newResName="",this.newHref="",Object(l["d"])(Object(l["c"])(m,"groups/"+this.$route.params.idx),this.g).then(console.log("groups更新成功"))},addIntro(){this.groups[this.$route.params.idx].intro=this.newIntro,this.newIntro="",Object(l["d"])(Object(l["c"])(m,"groups"),this.groups).then(console.log("groups更新成功"))}},watch:{groups(t){this.g=t[this.$route.params.idx]}},mounted(){this.g=this.groups[this.$route.params.idx]||{}}},Jt=Kt,Yt=(s("cb93"),Object(N["a"])(Jt,Vt,Wt,!1,null,"9919ae20",null)),Zt=Yt.exports,Xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("h1",[t.book&&!t.book.length?s("router-link",{attrs:{to:"/cards"}},[t._v("您的名簿目前沒有人，按此找朋友")]):t._e()],1),s("loader",{directives:[{name:"show",rawName:"v-show",value:!t.users,expression:"!users"}]}),s("vue-excel-xlsx",{staticClass:"down ui blue button",attrs:{data:t.toArray(),columns:t.toColumns(),"file-name":"auto20-mybook-export-"+t.today(),"file-type":"xlsx","sheet-name":"book"}},[t._v("下載資料 "),s("i",{staticClass:"download icon"})]),s("div",{staticClass:"ui divider"}),s("div",{staticClass:"ui two doubling cards container"},[t._l(t.searchBy(t.places,t.mySearch),(function(e,a){return t.book&&t.book.indexOf(e.idx)>-1?s("div",{key:a,staticClass:"ui card"},[s("card",{attrs:{h:e,full:!1,book:t.book,mySearch:t.mySearch},on:{locate:t.locate,addBook:t.addBook,removeBook:t.removeBook}})],1):t._e()})),t._l(t.searchBy(t.users,t.mySearch),(function(e,a){return t.book&&t.book.indexOf(e.uid)>-1?s("div",{key:a,staticClass:"ui card"},[s("card",{attrs:{h:e,full:!1,book:t.book,mySearch:t.mySearch},on:{locate:t.locate,addBook:t.addBook,removeBook:t.removeBook}})],1):t._e()}))],2),s("br"),s("br"),s("br"),s("br"),s("br")],1)},te=[],ee={name:"book",mixins:[b],props:["mySearch","book","users","places"],components:{Loader:mt,Card:G},metaInfo:{title:"名簿"},data(){return{}},methods:{today(){const t=new Date;return t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()},toArray(){if(!this.users)return[];const t=this,e=this.searchBy(this.users,this.mySearch).filter((function(e){return t.book&&(t.book.indexOf(e.uid)>-1||t.book.indexOf(e.idx)>-1)}));return e},toColumns(){var t;t=this.users.LHIpT3zOOWapprBLKqQtBawg2742?Object.keys(this.users.LIzyGte1eCa8lbOujKWViftnqGP2):["test","test2"];const e=t.map((function(t){return{label:t,field:t}}));return e},locate:function(t){this.$emit("locate",t)},addBook:function(t){console.log(t),this.$emit("addBook",t)},removeBook:function(t){console.log(t),this.$emit("removeBook",t)}}},se=ee,ae=(s("c8a0"),Object(N["a"])(se,Xt,te,!1,null,"2189cada",null)),ie=ae.exports,oe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("h1",[t.book&&!t.book.length?s("router-link",{attrs:{to:"/cards"}},[t._v("您的名簿目前沒有人，按此找朋友")]):t._e()],1),s("loader",{directives:[{name:"show",rawName:"v-show",value:!t.users,expression:"!users"}]}),s("div",{staticClass:"ui divider"}),s("l-map",{ref:"myMap",staticStyle:{width:"100%",height:"600px"},attrs:{zoom:t.myZoom,center:t.center}},[s("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._l(t.searchBy(t.users,t.mySearch),(function(e,a){return t.book&&t.book.indexOf(e.id)>-1?s("l-marker",{key:a,attrs:{"lat-lng":t.countLatLng(e),icon:t.getAnIcon(e)},on:{click:function(s){return t.$router.push({path:"/flag/"+e.uid})}}},[s("l-popup",[t._v(t._s(e.name))])],1):t._e()}))],2)],1)},ne=[],re={name:"mymap",mixins:[b],props:["mySearch","zoom","center","book","users","user","uid"],components:{LMap:q["a"],LTileLayer:Q["a"],LMarker:V["a"],LPopup:W["a"],Loader:mt},metaInfo:{title:"地圖"},data(){return{myZoom:13,url:"https://{s}.tile.osm.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://osm.org/copyright">OpenStreetMap</a> contributors'}},methods:{countLatLng:function(t){return t.latlngColumn?{lat:t.latlngColumn.split(",")[0],lng:t.latlngColumn.split(",")[1]}:{lat:0,lng:0}},getAnIcon:function(t){return D["icon"]({iconUrl:this.getIcon(t),shadowUrl:"",iconSize:[50,50],shadowSize:[0,0],iconAnchor:[25,25],shadowAnchor:[0,0],popupAnchor:[0,0]})}}},le=re,ce=(s("3737"),Object(N["a"])(le,oe,ne,!1,null,null,null)),ue=ce.exports,de=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("div",{staticClass:"ui container"},[s("form",{staticClass:"ui form error warning success",attrs:{id:"main-form"}},[s("h2",{staticClass:"ui header"},[t._v("請填表")]),t._m(0),s("h4",{staticClass:"ui dividing header"},[t._v("關於場地")]),s("div",{staticClass:"field"},[s("label",{staticClass:"required"},[t._v("名字")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.root.name,expression:"root.name"}],attrs:{type:"text",placeholder:"場地名稱"},domProps:{value:t.root.name},on:{input:function(e){e.target.composing||t.$set(t.root,"name",e.target.value)}}})]),s("div",{staticClass:"field",class:{error:t.root.address&&("undefined,undefined"==t.root.latlngColumn||"36.778261,-119.4179324"==t.root.latlngColumn)}},[s("label",{staticClass:"required"},[t._v("概略地址")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.root.address,expression:"root.address",modifiers:{trim:!0}}],attrs:{placeholder:"地址愈詳細，別人愈好認識你的所在"},domProps:{value:t.root.address},on:{keyup:function(e){return t.checkLatLng(t.root.address)},input:function(e){e.target.composing||t.$set(t.root,"address",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.root.address&&"undefined,undefined"!==t.root.latlngColumn&&"36.778261,-119.4179324"!==t.root.latlngColumn,expression:"root.address && root.latlngColumn !== 'undefined,undefined' && root.latlngColumn !== '36.778261,-119.4179324'"}]},[s("span",{domProps:{innerHTML:t._s(t.root.latlngColumn)}}),s("a",{attrs:{href:"https://www.google.com.tw/maps/search/"+t.root.address,target:"_blank"}},[t._v(" 看地圖測試")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.root.address&&("undefined,undefined"==t.root.latlngColumn||"36.778261,-119.4179324"==t.root.latlngColumn),expression:"(root.address && (root.latlngColumn == 'undefined,undefined' || root.latlngColumn == '36.778261,-119.4179324'))"}],staticClass:"ui error message"},[s("div",{staticClass:"header"},[t._v("無法定位")]),t._m(1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.usedAddr(t.root),expression:"usedAddr(root)"}],staticClass:"ui warning message"},[s("div",{staticClass:"header"},[t._v("地址重疊")]),s("p",[t._v("有別人使用了這個地址。您可以加上村里或是路段，來使定位更精準")])])]),s("div",{staticClass:"ui divider"}),s("div",{staticClass:"field"},[s("label",[t._v("網址")]),s("div",{staticClass:"two fields"},[s("div",{staticClass:"field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.root.site,expression:"root.site"}],attrs:{placeholder:"場地網址"},domProps:{value:t.root.site},on:{input:function(e){e.target.composing||t.$set(t.root,"site",e.target.value)}}}),s("span",{directives:[{name:"show",rawName:"v-show",value:t.root.site,expression:"root.site"}]},[s("a",{attrs:{href:t.root.site,target:"_blank"}},[s("img",{attrs:{src:"http://www.google.com/s2/favicons?domain="+t.root.site,title:"場地網址",alt:"場地網址"}}),t._v("測試連結")])])])])]),s("div",{staticClass:"two fields"},[s("div",{staticClass:"field"},[s("label",{staticClass:"required"},[t._v("有效聯絡方式")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.root.connect_me,expression:"root.connect_me"}],attrs:{type:"text",placeholder:"可公開的方式，如e-mail。臉書私訊不可"},domProps:{value:t.root.connect_me},on:{input:function(e){e.target.composing||t.$set(t.root,"connect_me",e.target.value)}}})]),s("div",{staticClass:"ui divider"}),s("div",{staticClass:"field"},[s("label",{staticClass:"required"},[t._v("介紹")]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.root.note,expression:"root.note"}],attrs:{id:"note",rows:"5",cols:"30",placeholder:"介紹很重要，請寫20字以上，謝謝"},domProps:{value:t.root.note},on:{input:function(e){e.target.composing||t.$set(t.root,"note",e.target.value)}}})])])]),s("div",{staticClass:"ui divider"}),s("a",{staticClass:"ui large blue button",on:{click:t.updatePlace}},[s("span",[t._v("升起旗幟!!")])])])])},me=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sub header"},[t._v("為了讓人真的能找到夥伴"),s("br"),t._v("有標記紅色星號"),s("i",{staticClass:"red star"}),t._v("的欄位為必填")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("如果您有不只一個住處，請填寫一個就好，其他可寫進自我介紹中。"),s("br"),t._v("若持續無法定位，請"),s("a",{attrs:{href:"https://www.google.com.tw/chrome/browser/desktop/",target:"_blank"}},[t._v("使用Chrome瀏覽器")]),t._v("再試一次。")])}],he={name:"myflag",mixins:[b],props:["uid","user","mySearch","provider","photoURL","users","places"],components:{Loader:mt},metaInfo:{title:"地點"},data(){return{myIndex:-1,root:{},local:{}}},methods:{checkLatLng:function(t){var e=this;console.log("checkLatLng:"+t),this.$http.get("https://api.opencagedata.com/geocode/v1/json?q="+encodeURIComponent(t)+"&key=ee2340e9a9e146e090943337d14a76d4&language=zh&pretty=1").then(t=>{var s,a,i=t.body;console.log(i);try{s=i.results[0].bounds.northeast.lat,a=i.results[0].bounds.northeast.lng}catch(o){console.log(o)}if(!s||!a)try{s=i.query.results.Result.latitude,a=i.query.results.Result.longitude}catch(o){console.log(o)}e.root.latlngColumn=s+","+a,e.local.lat=parseFloat(s),e.local.lng=parseFloat(a)})},usedAddr:function(t){const e=this;console.log(this.users);const s=Object.keys(this.users),a=s.map((function(t){return e.users[t]}));var i,o,n,r,l;for(i=!1,o=0,r=(n=a.filter(c)).length;o<r;++o)if(l=n[o],l.latlngColumn===t.latlngColumn){i=!0;break}return"undefined,undefined"!==t.latlngColumn&&"36.778261,-119.4179324"!==t.latlngColumn&&t.latlngColumn||(i=!1),i;function c(e){return e.name!==t.name}},tooDetail:function(t){return!!t&&!!t.match(/(號|樓|F|f)/)},updatePlace:function(){this.root.lastUpdate=(new Date).getTime(),Object(l["d"])(Object(l["c"])(m,"places/"+this.places.length),this.root).then(alert("登錄成功!"))},loginFB:function(){this.$emit("loginFB")},loginGoogle:function(){this.$emit("loginGoogle")}}},pe=he,ve=(s("f9a4"),Object(N["a"])(pe,de,me,!1,null,"c2045d28",null)),ge=ve.exports,fe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("h1"),s("div",{staticClass:"ui comments container"},t._l(t.talks,(function(e){return s("div",{staticClass:"comment",class:e[0].user?"user":"bot",attrs:{id:"talk"}},[s("div",{staticClass:"avatar",class:e[0].user?"user":"bot"},[e[0].user?s("i",{staticClass:"user icon"}):s("i",{staticClass:"phone volume icon"})]),e[0].text?s("vue-markdown",[t._v(t._s(e[0].text))]):t._e(),s("br"),s("div",{staticClass:"ui vertical buttons"},[t._l(e[0].buttons,(function(e){return s("a",{staticClass:"ui green button",on:{click:function(s){return t.say(e.payload)}}},[t._v(t._s(e.title))])})),e[0].user?t._e():s("a",{staticClass:"ui red basic button",attrs:{href:"https://forms.gle/BK1HUgBzkM6MYVKT9",target:"_blank"}},[t._v("錯誤回報")])],2)],1)})),0),s("hr"),s("div",{staticClass:"ui form container"},[s("div",{staticClass:"ui field"},[s("i",{staticClass:"user icon"}),s("input",{directives:[{name:"autofocus",rawName:"v-autofocus"},{name:"model",rawName:"v-model",value:t.userSay,expression:"userSay"}],attrs:{id:"say",list:"intents",placeholder:"您的問題..."},domProps:{value:t.userSay},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.say(t.userSay)},input:function(e){e.target.composing||(t.userSay=e.target.value)}}}),s("a",{staticClass:"ui blue button",on:{click:function(e){return t.say(t.userSay)}}},[t._v("送出")])])]),s("datalist",{attrs:{id:"intents"}},t._l(t.intents,(function(e){return s("option",[t._v(t._s(e))])})),0)])},be=[],_e={name:"bot",components:{VueMarkdown:k.a},metaInfo:{title:"聊天機器人"},data(){return{userSay:"",talks:[],domain:{},intents:[],responses:[],actions:[]}},methods:{say:function(t){console.log(t),this.talks.push([{user:!0,text:t}]),this.$gtag.event("say",{event_category:"say",event_label:"say"+t,value:10}),setTimeout(()=>{window.scrollTo(0,document.body.scrollHeight)},100),this.listen(t)},listen:function(t){console.log(t),this.intents.indexOf(t)>-1?this.talks.push(this.responses["utter_"+t]):this.talks.push(this.responses["utter_default"]),this.userSay="",this.$forceUpdate()}},mounted(){this.$http.get("https://map.alearn.org.tw/static/api/domain.json").then(t=>{console.log(t.body),this.domain=t.body,this.intents=this.domain.intents,this.actions=this.domain.actions,this.responses=this.domain.responses,this.listen("")},t=>{console.log("error"),console.log(t)})}},we=_e,Ce=(s("a328"),Object(N["a"])(we,fe,be,!1,null,null,null)),ke=Ce.exports,ye=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("section",{staticClass:"ui segment container"},[s("h1",{staticClass:"ui header center aligned"},[t._v(t._s(t.myQ.q))]),s("i",{staticClass:"huge orange users icon",staticStyle:{display:"block","margin-left":"auto","margin-right":"auto"}}),s("div",{staticClass:"ui divider"}),s("div",{staticClass:"ui grid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"column"},t._l(t.myQ.as,(function(e){return s("p",{staticClass:"description",domProps:{innerHTML:t._s(t.highlightAndMakeBr(e,t.myKey))}})})),0)]),s("div",{staticClass:"row"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.myQ.es&&t.myQ.es[0],expression:"myQ.es && myQ.es[0]"}],staticClass:"eighteen wide right aligned column"},[s("div",{staticClass:"ui divider"}),t._l(t.myQ.es,(function(e,a){return s("span",[s("div",{directives:[{name:"show",rawName:"v-show",value:a,expression:"index"}],staticClass:"ui divider"}),t._v("參考: "),s("a",{attrs:{href:e.h,target:"_blank"}},[s("i",{staticClass:"globe icon"}),t._v(t._s(e.t))])])}))],2)])])])])},xe=[],Ne={name:"ans",props:["myKey"],metaInfo:{title:"問答"},data(){return{myQ:{q:"",as:[],es:[]},handbook:{},catagories:[],faqs:[]}},methods:{makeBr:function(t){return t=t||"",t.replace(/\s/g,"<br/>").replace(/&nbsp;/g,"<br/>")||""},highlightAndMakeBr:function(t,e){return t=this.makeBr(t),e?t.replace(new RegExp(e,"gi"),'<span class="highlightedText">$&</span>'):t},cataColor:function(t){return(this.catagories.filter((function(e){return e.t===t}))[0]||{}).color||"#999"},cataIcon:function(t){return(this.catagories.filter((function(e){return e.t===t}))[0]||{}).icon||"user"}},mounted(){this.$http.get("https://map.alearn.org.tw/static/api/handbook-data.json").then(t=>{this.handbook=t.body,this.catagories=this.handbook.catagories,this.faqs=this.handbook.faqs,this.myQ=this.faqs[this.$route.params.id]},t=>{console.log(t)})}},$e=Ne,Oe=(s("87ad"),Object(N["a"])($e,ye,xe,!1,null,"15c1119d",null)),Le=Oe.exports,je=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("loader",{directives:[{name:"show",rawName:"v-show",value:!t.users,expression:"!users"}]}),s("div",{staticClass:"ui divider"}),s("Timeline",{attrs:{"timeline-items":t.timelineItems,"message-when-no-items":t.messageWhenNoItems}})],1)},Ie=[],Se=s("e429"),Be=s.n(Se),Ue={name:"cards",mixins:[b],props:["mySearch","id","book","users","places"],components:{Loader:mt,Card:G,Timeline:Be.a},metaInfo:{title:"歷史"},data(){return{n:20,busy:!1,messageWhenNoItems:"歡迎您好"}},computed:{list:function(){var t=this.users.concat(this.places).slice().sort((function(t,e){return!e.lastUpdate||isNaN(e.lastUpdate)?-1:e.lastUpdate-t.lastUpdate}));return t},timelineItems:function(){return this.list.map(t=>{var e={},s=this.getIcon(t),a="#/flag/"+t.uid;return e.from=new Date(t.lastUpdate),e.title=t.name+"登入",e.description='<a href ="'+a+'"><img class = "history" src="'+s+'"/> '+(""+t.note).substr(0,100)+"...</a>",e})}},methods:{locate:function(t){this.$emit("locate",t)},addBook:function(t){console.log(t),this.$emit("addBook",t)},removeBook:function(t){console.log(t),this.$emit("removeBook",t)},loadMore:function(){this.busy=!0,setTimeout(()=>{this.n+=20,this.busy=!1},1)}}},Ae=Ue,Re=(s("54e0"),Object(N["a"])(Ae,je,Ie,!1,null,"16cec961",null)),Pe=Re.exports,Fe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("canvas",{attrs:{id:"canvas"},on:{mousedown:t.startPainting,mouseup:t.finishedPainting,mousemove:t.draw,touchstart:t.startTouchPainting,touchmove:t.drawTouch,touchend:t.finishedPainting}}),s("div",{attrs:{id:"c"}},[s("a",{attrs:{id:"clear"},on:{click:function(e){return t.clear()}}},[t._v("清空")]),s("color-picker",{model:{value:t.color,callback:function(e){t.color=e},expression:"color"}}),s("p",[t._v(" Color: "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.color,expression:"color"}],attrs:{type:"text"},domProps:{value:t.color},on:{input:function(e){e.target.composing||(t.color=e.target.value)}}})])],1)])},Me=[],Te=s("1e8a"),He={name:"HelloWorld",props:{msg:String},metaInfo:{title:"圖鴨板"},components:{ColorPicker:Te["a"]},methods:{},mounted(){function t(t,e){const s=new XMLHttpRequest;s.open("get",t),s.responseType="blob",s.onload=()=>{const t=new FileReader;t.onload=function(){e(this.result)},t.readAsDataURL(s.response)},s.send()}this.canvas=document.getElementById("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.height=window.innerHeight,this.canvas.width=window.innerWidth,t("https://firebasestorage.googleapis.com/v0/b/shackhand-autolearn.appspot.com/o/drawing.jpg?alt=media&token=b558d0d1-e7ac-4790-b801-8406712d93ae",t=>{const e=new Image;e.src=t,e.onload=()=>{const t=document.getElementById("canvas");t.getContext("2d").drawImage(e,0,0)}})},data(){return{message:"Hello Vue!",vueCanvas:null,painting:!1,canvas:null,ctx:null,color:"#000000"}}},ze=He,Ge=(s("6107"),Object(N["a"])(ze,Fe,Me,!1,null,"414179c8",null)),De=Ge.exports,Ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("div",{staticClass:"ui segment container"},[s("h3",[t._v("外部連結")]),s("div",{staticClass:"ui list"},t._l(t.links,(function(e){return s("div",{key:e.n,staticClass:"item"},[s("a",{attrs:{href:e.h,target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"http://www.google.com/s2/favicons?domain="+e.h,alt:e.n}}),t._v(t._s(e.n))])])})),0)])])},qe=[],Qe={name:"outer",props:[],metaInfo:{title:"外部連結"},data(){return{links:[{n:"自學地圖",h:"https://map.alearn.org.tw"},{n:"自主學習促進會",h:"https://www.alearn.org.tw"},{n:"自由數學",h:"https://math.alearn.org.tw"},{n:"保障教育選擇權聯盟",h:"https://www.homeschool.tw/"}]}}},Ve=Qe,We=(s("6fa0"),Object(N["a"])(Ve,Ee,qe,!1,null,"29c2b5fa",null)),Ke=We.exports;a["default"].use(A["a"]);var Je=new A["a"]({routes:[{path:"/",name:"Hello",component:Z},{path:"/intro",name:"Intro",component:it},{path:"/outer",name:"Outer",component:Ke},{path:"/faq",name:"Faq",component:ke},{path:"/ans/:id",name:"Ans",component:Le},{path:"/cards",name:"Cards",component:gt},{path:"/maps",name:"Maps",component:kt},{path:"/flag/:uid",name:"Flag",component:Lt},{path:"/place/:idx",name:"Place",component:At},{path:"/group/:idx",name:"Group",component:Zt},{path:"/myFlag",name:"MyFlag",component:Ht},{path:"/groups",name:"Groups",component:Qt},{path:"/book",name:"Book",component:ie},{path:"/mymap",name:"MyMap",component:ue},{path:"/myplace",name:"MyPlace",component:ge},{path:"/history",name:"History",component:Pe},{path:"/drawing",name:"Drawing",component:De}]}),Ye=(s("6cc5"),s("28dd")),Ze=s("ead5"),Xe=s.n(Ze),ts=s("487a"),es=s.n(ts),ss=s("8a0a"),as=s.n(ss),is=s("a584"),os=s("7602"),ns=s.n(os),rs=s("9483");Object(rs["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh."),location.reload(!0)},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var ls=s("bd8c"),cs=s.n(ls),us=(s("b35e"),s("58ca")),ds=s("080a"),ms=s.n(ds),hs=s("3dc6");a["default"].use(hs["a"]),a["default"].use(ms.a),a["default"].use(cs.a),a["default"].use(us["a"]),a["default"].use(ns.a),a["default"].use(is["a"],{config:{id:"G-GNTJVRF63Z"}},Je),a["default"].directive("autofocus",as.a),delete E.a.Icon.Default.prototype._getIconUrl,E.a.Icon.Default.mergeOptions({iconRetinaUrl:s("584d"),iconUrl:s("6397"),shadowUrl:s("e2b9")}),a["default"].use(Ye["a"]),a["default"].use(Xe.a),a["default"].use(es.a),s("87ee"),a["default"].config.productionTip=!1,new a["default"]({el:"#app",router:Je,template:"<App/>",components:{App:U}})},"58ba":function(t,e,s){"use strict";var a=s("5cc4"),i=s.n(a);i.a},"58f3":function(t,e,s){},"5b56":function(t,e,s){t.exports=s.p+"img/handshake0.f0be4e3e.png"},"5c0b":function(t,e,s){"use strict";var a=s("9c0c"),i=s.n(a);i.a},"5cc4":function(t,e,s){},6107:function(t,e,s){"use strict";var a=s("d33c"),i=s.n(a);i.a},6791:function(t,e,s){},"6fa0":function(t,e,s){"use strict";var a=s("1473"),i=s.n(a);i.a},"87ad":function(t,e,s){"use strict";var a=s("01cc"),i=s.n(a);i.a},"87ed":function(t,e,s){"use strict";var a=s("010a"),i=s.n(a);i.a},"8d80":function(t,e,s){},9607:function(t,e,s){},"982c":function(t,e,s){},"9c0c":function(t,e,s){},a328:function(t,e,s){"use strict";var a=s("d09c"),i=s.n(a);i.a},afd1:function(t,e,s){"use strict";var a=s("3584"),i=s.n(a);i.a},bcb5:function(t,e,s){},c8a0:function(t,e,s){"use strict";var a=s("05f2"),i=s.n(a);i.a},cb93:function(t,e,s){"use strict";var a=s("58f3"),i=s.n(a);i.a},cd76:function(t,e,s){},d09c:function(t,e,s){},d33c:function(t,e,s){},e1be:function(t,e,s){"use strict";var a=s("8d80"),i=s.n(a);i.a},e918:function(t,e,s){},ede2:function(t,e,s){"use strict";var a=s("cd76"),i=s.n(a);i.a},f84d:function(t,e,s){},f9a4:function(t,e,s){"use strict";var a=s("e918"),i=s.n(a);i.a}});
//# sourceMappingURL=app.7a085a51.js.map